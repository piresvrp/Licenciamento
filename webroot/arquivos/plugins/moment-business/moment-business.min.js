(function(){var moment;(moment="undefined"==typeof require||null===require||require.amd?this.moment:require("moment")).fn.businessDiff=function(param){var signal=(param=moment(param)).unix()<this.unix()?1:-1,start=moment.min(param,this).clone(),end=moment.max(param,this).clone(),start_offset=start.day()-7,end_offset=end.day(),end_sunday=end.clone().subtract("d",end_offset),start_sunday=start.clone().subtract("d",start_offset),weeks=end_sunday.diff(start_sunday,"days")/7;return 7==(start_offset=Math.abs(start_offset))?start_offset=5:1==start_offset?start_offset=0:start_offset-=2,6==end_offset&&end_offset--,signal*(5*weeks+start_offset+end_offset)},moment.fn.businessAdd=function(days){var signal=days<0?-1:1;days=Math.abs(days);for(var d=this.clone().add(7*Math.floor(days/5)*signal,"d"),remaining=days%5;remaining;)d.add(signal,"d"),0!==d.day()&&6!==d.day()&&remaining--;return d},moment.fn.businessSubtract=function(days){return this.businessAdd(-days)}}).call(this);