"use strict";if("function"==typeof require)var moment=require("moment");moment.fn.isHoliday=function(){var locale=this.localeData();return!!(locale._holidays&&locale._holidays.indexOf(this.format(locale._holidayFormat))>=0)||!!locale.holiday&&!!locale.holiday(this)},moment.fn.isBusinessDay=function(){var locale,defaultWorkingWeekdays=[1,2,3,4,5],workingWeekdays=this.localeData()._workingWeekdays||defaultWorkingWeekdays;return!this.isHoliday()&&workingWeekdays.indexOf(this.day())>=0},moment.fn.businessDaysIntoMonth=function(){if(!this.isValid())return NaN;var businessDay=this.isBusinessDay()?this:this.prevBusinessDay(),monthBusinessDays,businessDaysIntoMonth;return businessDay.monthBusinessDays().map((function(day,index){day.format("M/DD/YY")===businessDay.format("M/DD/YY")&&(businessDaysIntoMonth=index+1)})),businessDaysIntoMonth},moment.fn.businessDiff=function(param,relative){var d1=this.clone(),d2=param.clone(),positive=d1>=d2,start=d1<d2?d1:d2,end=d2>d1?d2:d1,daysBetween=0;if(start.format("DD/MM/YYYY")===end.format("DD/MM/YYYY"))return daysBetween;for(;start<end;)start.isBusinessDay()&&daysBetween++,start.add(1,"d");return relative?positive?daysBetween:-daysBetween:daysBetween},moment.fn.businessAdd=function(number,period){var day=this.clone();if(!day.isValid())return day;var signal=(number=number<0?-1*Math.round(-1*number):Math.round(number))<0?-1:1;period=void 0!==period?period:"days";for(var remaining=Math.abs(number);remaining>0;)day.add(signal,period),day.isBusinessDay()&&remaining--;return day},moment.fn.businessSubtract=function(number,period){return this.businessAdd(-number,period)},moment.fn.nextBusinessDay=function(){for(var locale,loop=1,defaultNextBusinessDayLimit=7,limit=this.localeData()._nextBusinessDayLimit||7;loop<limit&&!this.add(1,"d").isBusinessDay();)loop++;return this},moment.fn.prevBusinessDay=function(){for(var locale,loop=1,defaultPrevBusinessDayLimit=7,limit=this.localeData()._prevBusinessDayLimit||7;loop<limit&&!this.subtract(1,"d").isBusinessDay();)loop++;return this},moment.fn.monthBusinessDays=function(partialEndDate){if(!this.isValid())return[];for(var me=this.clone(),day=me.clone().startOf("month"),end=partialEndDate||me.clone().endOf("month"),daysArr=[],done=!1;!done;)day.isBusinessDay()&&daysArr.push(day.clone()),end.diff(day.add(1,"d"))<0&&(done=!0);return daysArr},moment.fn.monthNaturalDays=function(fromToday){if(!this.isValid())return[];for(var me=this.clone(),day=fromToday?me.clone():me.clone().startOf("month"),end=me.clone().endOf("month"),daysArr=[],done=!1;!done;)daysArr.push(day.clone()),end.diff(day.add(1,"d"))<0&&(done=!0);return daysArr},moment.fn.monthBusinessWeeks=function(fromToday){fromToday=fromToday||!1;var me=this.clone(),startDate=fromToday?me.clone():me.clone().startOf("month");return getBusinessWeeks(this,fromToday,null,startDate)},moment.fn.businessWeeksBetween=function(endDate){var me,startDate=this.clone().clone();return getBusinessWeeks(this,!1,endDate,startDate)};var getBusinessWeeks=function(self,fromToday,endDate,startDate){if(!self.isValid())return[];for(var me=self.clone(),day=startDate,end=endDate?moment(endDate).clone():me.clone().endOf("month"),weeksArr=[],daysArr=[],done=!1;!done;)day.day()>=1&&day.day()<6&&daysArr.push(day.clone()),5===day.day()&&(weeksArr.push(daysArr),daysArr=[]),end.diff(day.add(1,"d"))<0&&(daysArr.length<5&&weeksArr.push(daysArr),done=!0);return weeksArr};moment.fn.monthNaturalWeeks=function(fromToday){if(!this.isValid())return[];for(var me=this.clone(),day=fromToday?me.clone():me.clone().startOf("month"),end=me.clone().endOf("month"),weeksArr=[],daysArr=[],done=!1;!done;)daysArr.push(day.clone()),6===day.day()&&(weeksArr.push(daysArr),daysArr=[]),end.diff(day.add(1,"d"))<0&&(daysArr.length<7&&weeksArr.push(daysArr),done=!0);return weeksArr},"undefined"!=typeof module&&module.exports&&(module.exports=moment);